<!DOCTYPE html>
<html lang="ru"> <!-- Указываем язык страницы русский -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gemini Chat</title> <!-- Заголовок страницы -->
    <link rel="stylesheet" href="styles.css"> <!-- Подключаем файл стилей -->
</head>
<body>

    <div class="chat-container">
        <div class="chat-header">
            <h1>Gemini Chat</h1> <!-- Заголовок чата -->
            <button id="theme-toggle">Переключить тему</button> <!-- Кнопка переключения темы -->
        </div>

        <div class="chat-messages" id="chat-messages">
            <!-- Здесь будут отображаться сообщения чата -->
            <div class="message bot-message">Привет! Как я могу тебе помочь?</div>
            <div class="message user-message">Привет, просто тестирую чат.</div>
        </div>

        <div class="input-area">
            <input type="text" class="message-input" id="message-input" placeholder="Введите ваше сообщение...">
            <button class="send-button" id="send-button">Отправить</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const themeToggle = document.getElementById('theme-toggle');
            const body = document.body;
            const chatMessagesContainer = document.getElementById('chat-messages');
            const messageInput = document.getElementById('message-input');
            const sendButton = document.getElementById('send-button');

            themeToggle.addEventListener('click', () => {
                if (body.classList.contains('light-theme')) {
                    body.classList.remove('light-theme');
                    body.classList.add('gray-theme');
                } else if (body.classList.contains('gray-theme')) {
                    body.classList.remove('gray-theme');
                    body.classList.remove('dark-theme'); // На всякий случай убираем класс темной темы, если был
                    body.classList.add('light-theme');
                }
                else { // По умолчанию делаем светлую тему, если нет ни одной
                    body.classList.remove('dark-theme'); // На всякий случай убираем класс темной темы
                    body.classList.add('light-theme');
                }
            });

            sendButton.addEventListener('click', () => {
                const messageText = messageInput.value.trim(); // Получаем текст сообщения и убираем пробелы по краям
                if (messageText !== "") { // Проверяем, что сообщение не пустое
                    // Создаем элемент сообщения пользователя
                    const userMessageDiv = document.createElement('div');
                    userMessageDiv.classList.add('message', 'user-message');
                    userMessageDiv.textContent = messageText;
                    chatMessagesContainer.appendChild(userMessageDiv); // Добавляем сообщение в контейнер

                    // Очищаем поле ввода
                    messageInput.value = "";

                    // Прокручиваем контейнер сообщений вниз, чтобы увидеть новое сообщение
                    chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight;

                    // --- Здесь можно добавить логику отправки сообщения на сервер и получения ответа от бота ---
                    // --- В этом примере просто имитируем ответ бота ---
                    setTimeout(() => { // Имитируем задержку ответа бота
                        const botMessageDiv = document.createElement('div');
                        botMessageDiv.classList.add('message', 'bot-message');
                        botMessageDiv.textContent = "Это ответ бота на ваше сообщение: \"" + messageText + "\"";
                        chatMessagesContainer.appendChild(botMessageDiv);
                        chatMessagesContainer.scrollTop = chatMessagesContainer.scrollHeight; // Прокручиваем вниз после ответа бота
                    }, 500); // Задержка в 500 миллисекунд (0.5 секунды)
                }
            });

            // Обработка отправки сообщения при нажатии Enter в поле ввода
            messageInput.addEventListener('keydown', (event) => {
                if (event.key === 'Enter') {
                    sendButton.click(); // Эмулируем клик на кнопку "Отправить"
                    event.preventDefault(); // Предотвращаем стандартное действие Enter (например, перенос строки)
                }
            });
        });
    </script>

</body>
</html>
